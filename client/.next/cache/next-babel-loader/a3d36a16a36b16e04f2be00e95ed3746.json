{"ast":null,"code":"import axios from 'axios'; // http://auth-clusterip-srv:3000\n\nconst urls = {\n  auth: {\n    'server': 'https://reverse-proxy/',\n    'browser': ''\n  }\n};\nexport default function buildClient(req, service) {\n  if (true) {\n    // WE ARE ON SERVER\n    return axios.create({\n      baseURL: urls[service].server,\n      headers: req.headers //  headers includes hosts cookies and all \n\n    });\n  } else {\n    // WE ARE ON BROWSER\n    //    return axios.create({\n    //        baseURL: urls[service].browser\n    //    });\n    return axios.create();\n  }\n}","map":{"version":3,"sources":["/usr/app/api/build-client.js"],"names":["axios","urls","auth","buildClient","req","service","create","baseURL","server","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,MAAMC,IAAI,GAAG;AACTC,EAAAA,IAAI,EAAC;AACD,cAAS,wBADR;AAED,eAAU;AAFT;AADI,CAAb;AAQA,eAAe,SAASC,WAAT,CAAqBC,GAArB,EAAyBC,OAAzB,EAAiC;AAC5C,YAAkC;AAC9B;AACA,WAAOL,KAAK,CAACM,MAAN,CAAa;AAChBC,MAAAA,OAAO,EAACN,IAAI,CAACI,OAAD,CAAJ,CAAcG,MADN;AAEhBC,MAAAA,OAAO,EAACL,GAAG,CAACK,OAFI,CAEI;;AAFJ,KAAb,CAAP;AAIJ,GANA,MAMI;AACD;AACH;AACA;AACA;AACA,WAAOT,KAAK,CAACM,MAAN,EAAP;AACA;AACH","sourcesContent":["import axios from 'axios';\n// http://auth-clusterip-srv:3000\nconst urls = {\n    auth:{\n        'server':'https://reverse-proxy/',\n        'browser':''\n    }\n}\n\n\nexport default function buildClient(req,service){\n    if(typeof window === 'undefined' ){\n        // WE ARE ON SERVER\n        return axios.create({\n            baseURL:urls[service].server,\n            headers:req.headers //  headers includes hosts cookies and all \n        });\n   }else{\n       // WE ARE ON BROWSER\n    //    return axios.create({\n    //        baseURL: urls[service].browser\n    //    });\n    return axios.create();\n   }     \n}"]},"metadata":{},"sourceType":"module"}