{"ast":null,"code":"var _jsxFileName = \"/usr/app/pages/_app.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport 'bootstrap/dist/css/bootstrap.css'; // global css can be only imported in _app.js file.\n// this is how next js works\n\nimport buildClient from '../api/build-client';\nimport Headers from '../components/headers'; // overriding next's default component\n// creating custom default component \n// thus instead of using next's default component next will use our \n// this custom component and wrap our components with this component and render to screen \n\nconst AppComponent = props => {\n  const {\n    Component,\n    pageProps,\n    currentUser\n  } = props;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 12\n    }\n  }, __jsx(Headers, {\n    currentUser: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }), __jsx(Component, _extends({\n    currentUser: currentUser\n  }, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  })));\n}; // ONCE THE GETINITIALPROPS FUNCTION IS INVOKED IN CUSTOM APP COMPONENT \n// IT WILL NOT BE INVOKED IN PAGE COMPONENTS\n// SO WE NEED TO CATCH THE GETINITIALPROPS METHOD OF PAGE COMPONENTS\n// AND INVOKE AND SEND OUT THE RESULTS\n// FOR EVERY PAGE COMPONENTS THIS AppComponent is also executed/rendered\n// SO ON ROUTING TO DIFFERENT PAGES THEIR GETINTIALPROPS WILL ALSO BE EXECUTED\n// SINCE THIS APPCOMPONENT IS EXECUTED FOR ALL PAGES\n\n\nAppComponent.getInitialProps = async context => {\n  const client = buildClient(context.ctx.req);\n  const res = await client.get('/api/auth/v1/current-user');\n  console.log('curent user', res.data.currentUser);\n  let pageProps = {}; // MANUALLY INVOKING THE GETINITIALPROPS OF THE PAGE COMPONENT\n  // ALSO WE NEED TO CHECK IF THE GETINITIALPROPS FUNCTION EXISTS IN THAT PAGE\n\n  if (context.Component.getInitialProps) {\n    pageProps = await context.Component.getInitialProps(context.ctx, client, res.data.currentUser);\n  } // IF NO GETINITIALPROPS DEFINED IN PAGES THEN EMPTY OBJECT WILL BE SENT ref: pageProps={}\n\n\n  return {\n    currentUser: res.data.currentUser,\n    pageProps\n  };\n}; // ARGUMENTS PROVIDE FOR PAGE COMPONENT AND CUSTOM APP COMPONENT in getInitialProps function\n// context => {err,req,res,pathname,query,asPath,AppTree} for Page Component\n// context => {AppTree, Component, router, ctx} for Custom App Component\n\n\nexport default AppComponent;","map":{"version":3,"sources":["/usr/app/pages/_app.js"],"names":["buildClient","Headers","AppComponent","props","Component","pageProps","currentUser","getInitialProps","context","client","ctx","req","res","get","console","log","data"],"mappings":";;;;;;AAAA,OAAO,kCAAP,C,CACA;AACA;;AACA,OAAOA,WAAP,MAAwB,qBAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB,C,CAEA;AACA;AACA;AACA;;AACA,MAAMC,YAAY,GAAIC,KAAD,IAAU;AAC3B,QAAM;AAACC,IAAAA,SAAD;AAAWC,IAAAA,SAAX;AAAqBC,IAAAA;AAArB,MAAoCH,KAA1C;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACH,MAAC,OAAD;AAAS,IAAA,WAAW,EAAEG,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,EAGH,MAAC,SAAD;AAAW,IAAA,WAAW,EAAEA;AAAxB,KAAyCD,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHG,CAAP;AAKH,CAPD,C,CASA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAH,YAAY,CAACK,eAAb,GAA+B,MAAOC,OAAP,IAAiB;AAE5C,QAAMC,MAAM,GAAGT,WAAW,CAACQ,OAAO,CAACE,GAAR,CAAYC,GAAb,CAA1B;AACA,QAAMC,GAAG,GAAG,MAAMH,MAAM,CAACI,GAAP,CAAW,2BAAX,CAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BH,GAAG,CAACI,IAAJ,CAASV,WAAnC;AACA,MAAID,SAAS,GAAC,EAAd,CAL4C,CAM5C;AACA;;AACA,MAAGG,OAAO,CAACJ,SAAR,CAAkBG,eAArB,EAAqC;AACjCF,IAAAA,SAAS,GAAG,MAAMG,OAAO,CAACJ,SAAR,CAAkBG,eAAlB,CACdC,OAAO,CAACE,GADM,EAEdD,MAFc,EAGdG,GAAG,CAACI,IAAJ,CAASV,WAHK,CAAlB;AAKH,GAd2C,CAe5C;;;AACA,SAAO;AAACA,IAAAA,WAAW,EAACM,GAAG,CAACI,IAAJ,CAASV,WAAtB;AAAkCD,IAAAA;AAAlC,GAAP;AACH,CAjBD,C,CAmBA;AACA;AACA;;;AAEA,eAAeH,YAAf","sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\n// global css can be only imported in _app.js file.\n// this is how next js works\nimport buildClient from '../api/build-client';\nimport Headers from '../components/headers';\n\n// overriding next's default component\n// creating custom default component \n// thus instead of using next's default component next will use our \n// this custom component and wrap our components with this component and render to screen \nconst AppComponent = (props) =>{\n    const {Component,pageProps,currentUser} = props;\n    return <div>\n        <Headers currentUser={currentUser}/>\n        {/* Component is the page/component that is going to be rendered */}\n        <Component currentUser={currentUser} {...pageProps}/> \n    </div>\n};\n\n// ONCE THE GETINITIALPROPS FUNCTION IS INVOKED IN CUSTOM APP COMPONENT \n// IT WILL NOT BE INVOKED IN PAGE COMPONENTS\n// SO WE NEED TO CATCH THE GETINITIALPROPS METHOD OF PAGE COMPONENTS\n// AND INVOKE AND SEND OUT THE RESULTS\n// FOR EVERY PAGE COMPONENTS THIS AppComponent is also executed/rendered\n// SO ON ROUTING TO DIFFERENT PAGES THEIR GETINTIALPROPS WILL ALSO BE EXECUTED\n// SINCE THIS APPCOMPONENT IS EXECUTED FOR ALL PAGES\nAppComponent.getInitialProps = async (context)=>{\n\n    const client = buildClient(context.ctx.req);\n    const res = await client.get('/api/auth/v1/current-user');\n    console.log('curent user',res.data.currentUser);\n    let pageProps={};\n    // MANUALLY INVOKING THE GETINITIALPROPS OF THE PAGE COMPONENT\n    // ALSO WE NEED TO CHECK IF THE GETINITIALPROPS FUNCTION EXISTS IN THAT PAGE\n    if(context.Component.getInitialProps){\n        pageProps = await context.Component.getInitialProps(\n            context.ctx,\n            client,\n            res.data.currentUser\n        );\n    }\n    // IF NO GETINITIALPROPS DEFINED IN PAGES THEN EMPTY OBJECT WILL BE SENT ref: pageProps={}\n    return {currentUser:res.data.currentUser,pageProps};\n}\n\n// ARGUMENTS PROVIDE FOR PAGE COMPONENT AND CUSTOM APP COMPONENT in getInitialProps function\n// context => {err,req,res,pathname,query,asPath,AppTree} for Page Component\n// context => {AppTree, Component, router, ctx} for Custom App Component\n\nexport default AppComponent;\n\n"]},"metadata":{},"sourceType":"module"}