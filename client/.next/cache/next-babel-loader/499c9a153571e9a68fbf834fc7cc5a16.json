{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/app/pages/orders/index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\n\nvar index = function index(_ref) {\n  var currentUser = _ref.currentUser,\n      orders = _ref.orders;\n  console.log('orders', orders);\n  var tableContent = orders.map(function (t) {\n    return __jsx(\"tr\", {\n      key: t.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 17\n      }\n    }, __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 21\n      }\n    }, t.title), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 21\n      }\n    }, t.price), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 21\n      }\n    }, __jsx(Link, {\n      href: \"/orders/[orderId]\",\n      as: \"/orders/\".concat(t.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 21\n      }\n    }, __jsx(\"a\", {\n      className: \"nav-link\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 29\n      }\n    }, \"View\"))));\n  });\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  }, \"Your Orders\"), __jsx(\"table\", {\n    className: \"table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }, __jsx(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 21\n    }\n  }, __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 25\n    }\n  }, __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 29\n    }\n  }, \"Title\"), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 29\n    }\n  }, \"Price\"), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 29\n    }\n  }, \"Link\"))), __jsx(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, tableContent)));\n};\n\nindex.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context, client, currentUser) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return client.get('/api/order/v1/get-orders');\n\n          case 2:\n            data = _context.sent;\n            return _context.abrupt(\"return\", {\n              tickets: data.data.tickets\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default index;","map":{"version":3,"sources":["/usr/app/pages/orders/index.js"],"names":["Link","index","currentUser","orders","console","log","tableContent","map","t","id","title","price","getInitialProps","context","client","get","data","tickets"],"mappings":";;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAwB;AAAA,MAAtBC,WAAsB,QAAtBA,WAAsB;AAAA,MAAVC,MAAU,QAAVA,MAAU;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBF,MAArB;AACA,MAAMG,YAAY,GAAGH,MAAM,CAACI,GAAP,CAAW,UAAAC,CAAC,EAAE;AAC3B,WACI;AAAI,MAAA,GAAG,EAAEA,CAAC,CAACC,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,CAAC,CAACE,KAAP,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,CAAC,CAACG,KAAP,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,mBAAX;AAA+B,MAAA,EAAE,oBAAaH,CAAC,CAACC,EAAf,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAG,MAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADR,CADA,CAHJ,CADJ;AAWH,GAZgB,CAArB;AAgBA,SACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,CADJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,YADL,CARJ,CAFJ,CADR;AAiBH,CAnCD;;AAuCAL,KAAK,CAACW,eAAN;AAAA,uEAAwB,iBAAOC,OAAP,EAAeC,MAAf,EAAsBZ,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACDY,MAAM,CAACC,GAAP,CAAW,0BAAX,CADC;;AAAA;AACdC,YAAAA,IADc;AAAA,6CAEb;AAACC,cAAAA,OAAO,EAACD,IAAI,CAACA,IAAL,CAAUC;AAAnB,aAFa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAOA,eAAehB,KAAf","sourcesContent":["import Link from 'next/link';\n\nconst index = ({currentUser,orders})=>{\n    console.log('orders',orders);\n    const tableContent = orders.map(t=>{\n            return (\n                <tr key={t.id}>\n                    <td>{t.title}</td>\n                    <td>{t.price}</td>\n                    <td>\n                    <Link href=\"/orders/[orderId]\" as={`/orders/${t.id}`}>\n                            <a className=\"nav-link\">View</a>\n                    </Link>\n                    </td>\n                </tr>\n            );\n        });\n\n\n\n    return (\n            <div>\n                <h1>Your Orders</h1>\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            <th>Title</th>\n                            <th>Price</th>\n                            <th>Link</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {tableContent}\n                    </tbody>\n                </table>\n            </div>\n        );\n}; \n\n\n\nindex.getInitialProps = async (context,client,currentUser)=>{\n    const data = await client.get('/api/order/v1/get-orders');\n    return {tickets:data.data.tickets};\n}\n\n\n\nexport default index;"]},"metadata":{},"sourceType":"module"}